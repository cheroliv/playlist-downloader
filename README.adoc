
= YouTube Playlist Manager CLI
:toc:
:icons: font
:source-highlighter: highlight.js

link:README.fr.adoc[Version Fran√ßaise]


A command-line tool to manage, sync, and download your YouTube playlists, designed for robustness, testability, and ease of use.

== Features

* Create YouTube playlists (`creer`)
* Download playlists in MP3 format (`telecharger`)
* Local/remote synchronization (`mettre-a-jour`)
* Delete playlists (`detruire`)
* Get the sharing URL (`partager`)

== Tech Stack

* Python 3
* Typer (CLI)
* yt-dlp (downloading)
* YouTube Data v3 API (playlist management)
* google-api-python-client, google-auth-oauthlib (OAuth 2.0 authentication)

== Installation

. Clone the repository:
+
[source,bash]
----
git clone https://github.com/cheroliv/playlist-downloader.git
cd playlist-downloader
----

. Create and activate a virtual environment:
+
[source,bash]
----
python3 -m venv venv
source venv/bin/activate
----

. Install the dependencies:
+
[source,bash]
----
pip install -r requirements.txt
----

== OAuth 2.0 Configuration

. Create a Google Cloud project and enable the YouTube Data v3 API.
. Configure the OAuth consent screen and create OAuth 2.0 credentials for a desktop application.
. Download the `client_secret.json` file and place it at the root of the project.
. Add `client_secret.json` to `.gitignore` to prevent any secret leaks.

== Usage

Run the tool via the CLI:

[source,bash]
----
python -m playlist_downloader.cli [command] [options]
----

.Examples:
* Create a playlist: `python -m playlist_downloader.cli creer "Playlist Title"`
* Download a playlist: `python -m playlist_downloader.cli telecharger <URL>`
* Delete a playlist: `python -m playlist_downloader.cli detruire <ID>`
* Share a playlist: `python -m playlist_downloader.cli partager <ID>`

== Advanced Usage

=== Batch Download from a YAML file

You can download multiple videos for different artists using a YAML configuration file. By default, the application looks for a `musics.yml` file.

. Create a `musics.yml` file at the project root with the following structure:
+
[source,yaml]
----
artistes:
  - name: "Artist Name 1"
    tunes:
      - "YOUTUBE_URL_1"
      - "YOUTUBE_URL_2"
  - name: "Artist Name 2"
    tunes:
      - "YOUTUBE_URL_3"
----

. Run the `importer` command to download all listed tracks:
+
[source,bash]
----
python -m playlist_downloader.cli importer
----
+
The MP3 files will be saved in subfolders by artist inside the `downloads/` directory.

. You can specify a different YAML file or another output directory:
+
[source,bash]
----
python -m playlist_downloader.cli importer my_file.yml --output /path/to/my/music
----

== Development Principles

* Functional programming (pure functions, immutability)
* Explicit and centralized error handling
* Test-Driven Development (TDD) and Log-Driven Development (LDD)
* Hexagonal architecture (domain, ports, adapters)

== Project Structure

[source]
----
playlist_downloader/
  cli.py
  auth.py
  youtube_api.py
  logger_config.py
  adapters/
    ytdlp_adapter.py
  domain/
    models.py
    ports.py
    errors.py
  services/
tests/
  test_auth.py
  test_youtube_api.py
  test_ytdlp_adapter.py
----

== Tests

Run the test suite with:

[source,bash]
----
pytest
----

== Contribution

* Respect TDD/LDD and centralized error handling.
* Any new feature must be covered by unit and integration tests.
* Document any major architectural decisions in the project.

== License

This project is open source under the MIT license.

== Authors

See contributors on https://github.com/cheroliv/playlist-downloader

// cli python typer yt-dlp youtube-data-api oauth2 open-source tdd hexagonal-architecture error-handling automation